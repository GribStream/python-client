# python-client
Python client library to interface with [GribStream](https://www.gribstream.com)

    from client import GribStreamClient
    import datetime
    
    with GribStreamClient(apikey=None) as client: # DEMO API token
    
    # Non-streaming usage
    start = datetime.datetime.now(datetime.UTC)

    df = client.forecasts(
        forecasted_from="2024-09-10T00:00:00Z",
        forecasted_before="2024-09-10T00:00:00Z",
        min_horizon=1,
        max_horizon=10,
        coordinates=[
            {"lat": 40.75, "lon": -73.98},
            {"lat": 29.75, "lon": -95.36},
            {"lat": 47.60, "lon": -122.33},
        ],
        variables=[
            {"name": "TMP", "level": "2 m above ground", "info": ""},
            {"name": "WIND", "level": "10 m above ground", "info": ""},
            {"name": "DPT", "level": "2 m above ground", "info": ""},
        ],
    )
    print(df)
    print('non streaming took', datetime.datetime.now(datetime.UTC) - start)

Output:

                   forecasted_at           forecasted_time    lat     lon  DPT|2 m above ground|  TMP|2 m above ground|  WIND|10 m above ground|
    0  2024-09-10 00:00:00+00:00 2024-09-10 03:00:00+00:00  29.75  -95.36                 293.06                 299.40                      3.2
    1  2024-09-10 00:00:00+00:00 2024-09-10 03:00:00+00:00  40.75  -73.98                 288.66                 293.80                      7.2
    2  2024-09-10 00:00:00+00:00 2024-09-10 03:00:00+00:00  47.60 -122.33                 286.66                 289.80                      1.2
    3  2024-09-10 00:00:00+00:00 2024-09-10 01:00:00+00:00  29.75  -95.36                 293.05                 301.07                      3.6
    4  2024-09-10 00:00:00+00:00 2024-09-10 01:00:00+00:00  40.75  -73.98                 287.85                 293.47                      8.0
    5  2024-09-10 00:00:00+00:00 2024-09-10 01:00:00+00:00  47.60 -122.33                 287.05                 293.47                      2.0
    6  2024-09-10 00:00:00+00:00 2024-09-10 05:00:00+00:00  29.75  -95.36                 292.10                 298.56                      3.2
    7  2024-09-10 00:00:00+00:00 2024-09-10 05:00:00+00:00  40.75  -73.98                 288.50                 293.76                      6.8
    8  2024-09-10 00:00:00+00:00 2024-09-10 05:00:00+00:00  47.60 -122.33                 286.10                 287.76                      0.8
    9  2024-09-10 00:00:00+00:00 2024-09-10 02:00:00+00:00  29.75  -95.36                 293.20                 299.88                      3.2
    10 2024-09-10 00:00:00+00:00 2024-09-10 02:00:00+00:00  40.75  -73.98                 288.40                 293.48                      7.6
    11 2024-09-10 00:00:00+00:00 2024-09-10 02:00:00+00:00  47.60 -122.33                 287.20                 291.48                      1.6
    12 2024-09-10 00:00:00+00:00 2024-09-10 04:00:00+00:00  29.75  -95.36                 292.80                 299.08                      3.2
    13 2024-09-10 00:00:00+00:00 2024-09-10 04:00:00+00:00  40.75  -73.98                 288.40                 293.88                      7.2
    14 2024-09-10 00:00:00+00:00 2024-09-10 04:00:00+00:00  47.60 -122.33                 286.40                 288.68                      1.2
    15 2024-09-10 00:00:00+00:00 2024-09-10 07:00:00+00:00  29.75  -95.36                 291.31                 297.87                      3.6
    16 2024-09-10 00:00:00+00:00 2024-09-10 07:00:00+00:00  40.75  -73.98                 288.51                 293.47                      6.8
    17 2024-09-10 00:00:00+00:00 2024-09-10 07:00:00+00:00  47.60 -122.33                 285.71                 287.07                      0.8
    18 2024-09-10 00:00:00+00:00 2024-09-10 10:00:00+00:00  29.75  -95.36                 291.09                 296.63                      4.0
    19 2024-09-10 00:00:00+00:00 2024-09-10 10:00:00+00:00  40.75  -73.98                 288.29                 292.63                      6.0
    20 2024-09-10 00:00:00+00:00 2024-09-10 10:00:00+00:00  47.60 -122.33                 284.69                 285.83                      0.4
    21 2024-09-10 00:00:00+00:00 2024-09-10 09:00:00+00:00  29.75  -95.36                 291.19                 297.14                      4.0
    22 2024-09-10 00:00:00+00:00 2024-09-10 09:00:00+00:00  40.75  -73.98                 288.39                 293.14                      6.4
    23 2024-09-10 00:00:00+00:00 2024-09-10 09:00:00+00:00  47.60 -122.33                 285.19                 286.34                      0.4
    24 2024-09-10 00:00:00+00:00 2024-09-10 08:00:00+00:00  29.75  -95.36                 291.39                 297.43                      3.6
    25 2024-09-10 00:00:00+00:00 2024-09-10 08:00:00+00:00  40.75  -73.98                 288.59                 293.43                      6.8
    26 2024-09-10 00:00:00+00:00 2024-09-10 08:00:00+00:00  47.60 -122.33                 285.39                 286.63                      0.4
    27 2024-09-10 00:00:00+00:00 2024-09-10 06:00:00+00:00  29.75  -95.36                 291.67                 297.92                      3.6
    28 2024-09-10 00:00:00+00:00 2024-09-10 06:00:00+00:00  40.75  -73.98                 288.47                 293.92                      6.8
    29 2024-09-10 00:00:00+00:00 2024-09-10 06:00:00+00:00  47.60 -122.33                 285.67                 287.52                      0.8
    non streaming took 0:00:01.977881
